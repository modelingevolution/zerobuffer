// <auto-generated />
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text.Json;
using System.Threading.Tasks;
using Xunit;
using Xunit.Abstractions;
using ModelingEvolution.Harmony.Core;
using ModelingEvolution.Harmony.Execution;
using ModelingEvolution.Harmony.ProcessManagement;
using Microsoft.Extensions.Logging.Abstractions;
using ZeroBuffer.Harmony.Tests;

namespace ZeroBuffer.Harmony.Tests.Python_Csharp;

public class ProtocolComplianceTests : HarmonyTestBase
{
    public ProtocolComplianceTests(ITestOutputHelper output) : base(output) { }

    #region Static Test Data
    private static readonly string Test_12_1_Protocol_Compliance_OIEB_reader_python_writer_csharp_Json = @"{""TestId"":""python-csharp-test-12-1---protocol-compliance-oieb"",""FeatureId"":12,""ScenarioName"":""Test 12.1 - Protocol Compliance OIEB"",""ScenarioDescription"":null,""Tags"":[],""Platforms"":{""reader"":""python"",""writer"":""csharp""},""Background"":[{""Type"":""Given"",""Text"":""the test environment is initialized"",""Process"":null,""ProcessedText"":""the test environment is initialized"",""Parameters"":{}},{""Type"":""Given"",""Text"":""all processes are ready"",""Process"":null,""ProcessedText"":""all processes are ready"",""Parameters"":{}},{""Type"":""Given"",""Text"":""we are in DEBUG mode for protocol compliance tests"",""Process"":null,""ProcessedText"":""we are in DEBUG mode for protocol compliance tests"",""Parameters"":{}}],""Steps"":[{""Type"":""Given"",""Text"":""the \u0027reader\u0027 process creates buffer \u0027test-oieb-compliance\u0027 with default config"",""Process"":""reader"",""ProcessedText"":""creates buffer \u0027test-oieb-compliance\u0027 with default config"",""Parameters"":{}},{""Type"":""When"",""Text"":""the \u0027writer\u0027 process connects to buffer \u0027test-oieb-compliance\u0027"",""Process"":""writer"",""ProcessedText"":""connects to buffer \u0027test-oieb-compliance\u0027"",""Parameters"":{}},{""Type"":""When"",""Text"":""performs multiple write operations"",""Process"":""writer"",""ProcessedText"":""performs multiple write operations"",""Parameters"":{}},{""Type"":""Then"",""Text"":""the \u0027writer\u0027 process should verify after each write:"",""Process"":""writer"",""ProcessedText"":""should verify after each write:"",""Parameters"":{}},{""Type"":""When"",""Text"":""the \u0027reader\u0027 process performs multiple read operations"",""Process"":""reader"",""ProcessedText"":""performs multiple read operations"",""Parameters"":{}},{""Type"":""Then"",""Text"":""the \u0027reader\u0027 process should verify after each read:"",""Process"":""reader"",""ProcessedText"":""should verify after each read:"",""Parameters"":{}}]}";
    private static readonly string Test_12_2_Memory_Alignment_Verification_reader_python_writer_csharp_Json = @"{""TestId"":""python-csharp-test-12-2---memory-alignment-verification"",""FeatureId"":12,""ScenarioName"":""Test 12.2 - Memory Alignment Verification"",""ScenarioDescription"":null,""Tags"":[],""Platforms"":{""reader"":""python"",""writer"":""csharp""},""Background"":[{""Type"":""Given"",""Text"":""the test environment is initialized"",""Process"":null,""ProcessedText"":""the test environment is initialized"",""Parameters"":{}},{""Type"":""Given"",""Text"":""all processes are ready"",""Process"":null,""ProcessedText"":""all processes are ready"",""Parameters"":{}},{""Type"":""Given"",""Text"":""we are in DEBUG mode for protocol compliance tests"",""Process"":null,""ProcessedText"":""we are in DEBUG mode for protocol compliance tests"",""Parameters"":{}}],""Steps"":[{""Type"":""Given"",""Text"":""the \u0027reader\u0027 process creates buffer \u0027test-alignment\u0027 with default config"",""Process"":""reader"",""ProcessedText"":""creates buffer \u0027test-alignment\u0027 with default config"",""Parameters"":{}},{""Type"":""Then"",""Text"":""the \u0027reader\u0027 process should verify OIEB starts at 64-byte aligned address"",""Process"":""reader"",""ProcessedText"":""should verify OIEB starts at 64-byte aligned address"",""Parameters"":{}},{""Type"":""Then"",""Text"":""should verify metadata block starts at 64-byte aligned offset"",""Process"":""reader"",""ProcessedText"":""should verify metadata block starts at 64-byte aligned offset"",""Parameters"":{}},{""Type"":""Then"",""Text"":""should verify payload block starts at 64-byte aligned offset"",""Process"":""reader"",""ProcessedText"":""should verify payload block starts at 64-byte aligned offset"",""Parameters"":{}},{""Type"":""When"",""Text"":""the \u0027writer\u0027 process connects to buffer \u0027test-alignment\u0027"",""Process"":""writer"",""ProcessedText"":""connects to buffer \u0027test-alignment\u0027"",""Parameters"":{}},{""Type"":""When"",""Text"":""writes various sized frames"",""Process"":""writer"",""ProcessedText"":""writes various sized frames"",""Parameters"":{}},{""Type"":""Then"",""Text"":""the \u0027writer\u0027 process should verify all data access respects alignment"",""Process"":""writer"",""ProcessedText"":""should verify all data access respects alignment"",""Parameters"":{}}]}";

    #endregion

    #region Scenarios Collection
    public static IEnumerable<ScenarioExecution> Scenarios => new[]
    {
        DeserializeScenarioStatic(Test_12_1_Protocol_Compliance_OIEB_reader_python_writer_csharp_Json),
        DeserializeScenarioStatic(Test_12_2_Memory_Alignment_Verification_reader_python_writer_csharp_Json)
    };
    #endregion

    #region Test Methods
    [Fact(DisplayName = "Test 12.1 - Protocol Compliance OIEB [reader=python, writer=csharp]")]
    [Trait("Scenario", "Test 12.1 - Protocol Compliance OIEB")]
    [Trait("Platform", "python/csharp")]
    [Trait("Uses", "csharp")]
    [Trait("Uses", "python")]
    [Trait("Feature", "12-ProtocolCompliance")]    public async Task Test_12_1_Protocol_Compliance_OIEB_reader_python_writer_csharp()
    {
        var scenario = DeserializeScenario(Test_12_1_Protocol_Compliance_OIEB_reader_python_writer_csharp_Json);
        await ExecuteScenarioAsync(scenario);
    }

    [Fact(DisplayName = "Test 12.2 - Memory Alignment Verification [reader=python, writer=csharp]")]
    [Trait("Scenario", "Test 12.2 - Memory Alignment Verification")]
    [Trait("Platform", "python/csharp")]
    [Trait("Uses", "csharp")]
    [Trait("Uses", "python")]
    [Trait("Feature", "12-ProtocolCompliance")]    public async Task Test_12_2_Memory_Alignment_Verification_reader_python_writer_csharp()
    {
        var scenario = DeserializeScenario(Test_12_2_Memory_Alignment_Verification_reader_python_writer_csharp_Json);
        await ExecuteScenarioAsync(scenario);
    }


    #endregion
}